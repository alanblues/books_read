(function(){"use strict";var e={1823:function(e,o,t){var n=t(9242),r=t(3396);const a={class:"container-fluid"},i={class:"card shadow"},s={class:"card-body"};function l(e,o,t,n,l,d){const c=(0,r.up)("Title"),u=(0,r.up)("BookList"),b=(0,r.up)("FilterBooks"),p=(0,r.up)("Formulary");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",a,[(0,r._)("div",i,[(0,r.Wm)(c,{titleText:"Mis Libros",onCloseForm:d.handleSetOpenForm},null,8,["onCloseForm"]),(0,r._)("div",s,[(0,r.Wm)(u,{books:l.books,onOnUpdate:d.handleUpdateBook,onOnRemove:d.handleRemoveBook,enableOption:l.openForm},null,8,["books","onOnUpdate","onOnRemove","enableOption"]),(0,r.Wm)(b,{onOnFilter:d.handleFilter,all:d.countAll,pendings:d.countPendings,reads:d.countReads},null,8,["onOnFilter","all","pendings","reads"])])])]),l.openForm?((0,r.wg)(),(0,r.j4)(p,{key:0,onOnAddBook:d.handleAddBook,onCloseForm:d.handleSetOpenForm},null,8,["onOnAddBook","onCloseForm"])):(0,r.kq)("",!0)],64)}var d=t(7139);const c={class:"card-header pb-2 d-flex justify-content-between align-items-baseline"},u={class:"text-primary"};function b(e,o,t,n,a,i){return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("h4",u,(0,d.zw)(t.titleText),1),(0,r._)("button",{onClick:o[0]||(o[0]=(...e)=>n.onCloseForm&&n.onCloseForm(...e)),class:"btn btn-s btn-primary"},"Nuevo")])}var p={name:"HelloWorld",props:{titleText:String},setup(e,{emit:o}){const t=()=>o("closeForm",!0);return{onCloseForm:t}}},m=t(89);const f=(0,m.Z)(p,[["render",b]]);var k=f;const h=e=>((0,r.dD)("data-v-13dae348"),e=e(),(0,r.Cn)(),e),g={class:"formulary d-flex flex-column justify-content-center align-items-center"},v=h((()=>(0,r._)("h2",{class:"text-white mb-4"},"Registrar Nuevo Libro",-1))),y={class:"border rounded p-5 w-75"},w=["disabled"];function F(e,o,t,a,i,s){return(0,r.wg)(),(0,r.iD)("section",g,[v,(0,r._)("div",y,[(0,r._)("form",{onSubmit:o[3]||(o[3]=(0,n.iM)(((...e)=>a.onAddBook&&a.onAddBook(...e)),["prevent"]))},[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>a.book.title=e),placeholder:"Titulo Libro",class:"form-control mb-2"},null,512),[[n.nr,a.book.title]]),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>a.book.author=e),placeholder:"Nombre Autor",class:"form-control"},null,512),[[n.nr,a.book.author]]),(0,r._)("button",{type:"submit",class:"btn btn-success btn-lg mt-3 mr-2",disabled:a.enableAddButton}," Agregar ",8,w),(0,r._)("button",{type:"button",onClick:o[2]||(o[2]=(...e)=>a.onCloseForm&&a.onCloseForm(...e)),class:"btn btn-secondary btn-lg mt-3"}," Cancelar ")],32)])])}var _=t(4870),O={name:"FormularyFill",setup(e,o){const t=(0,_.qj)({title:"",author:""}),n=()=>o.emit("onAddBook",t),a=()=>o.emit("closeForm",!1),i=(0,r.Fl)((()=>""===t.title.trim()||""===t.author.trim()));return{book:t,onAddBook:n,onCloseForm:a,enableAddButton:i}}};const B=(0,m.Z)(O,[["render",F],["__scopeId","data-v-13dae348"]]);var C=B;const x={class:"list-size"},A={class:"d-flex flex-column"},R={class:"font-weight-bold"},j={class:"text-muted"},D={class:"d-flex flex-colum justify-content-cente my-2"},U=["disabled","onClick"],S=["disabled","onClick"],T=["disabled","onClick"];function z(e,o,t,n,a,i){return(0,r.wg)(),(0,r.iD)("section",x,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.books,(({id:e,title:o,author:a,read:i})=>((0,r.wg)(),(0,r.iD)("article",{class:(0,d.C_)(["mt-2 rounded-0 border-bottom pb-1 pt-2 px-3 d-flex flex-column",i?"book_read":""]),key:e},[(0,r._)("div",A,[(0,r._)("span",R,(0,d.zw)(o),1),(0,r._)("span",j,(0,d.zw)(a),1)]),(0,r._)("div",D,[i?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,disabled:t.enableOption,onClick:o=>n.onRead(e),class:"btn btn-success btn-sm mr-2"},"Marcar como leido",8,U)),i?((0,r.wg)(),(0,r.iD)("button",{key:1,disabled:t.enableOption,onClick:o=>n.onReset(e),class:"btn btn-info btn-sm mr-2"},"Volver a leer",8,S)):(0,r.kq)("",!0),(0,r._)("button",{disabled:t.enableOption,onClick:o=>n.onRemove(e),class:"btn btn-danger btn-sm"},"Quitar de la lista",8,T)])],2)))),128))])}var L={name:"BookList2",props:["books","enableOption"],setup(e,o){const t=e=>o.emit("onUpdate",e,!0),n=e=>o.emit("onUpdate",e,!1),r=e=>{const t=confirm("¿Desea elimninar el libro?");t&&o.emit("onRemove",e)};return{onRead:t,onReset:n,onRemove:r}}};const Z=(0,m.Z)(L,[["render",z],["__scopeId","data-v-4f36c41c"]]);var H=Z;const I={class:"filters mt-5"},M=(0,r.Uk)(" Todos "),P={class:"badge badge-pill badge-info"},N=(0,r.Uk)(" Pendientes "),E={class:"badge badge-pill badge-info"},q=(0,r.Uk)(" Terminados "),W={class:"badge badge-pill badge-info"};function V(e,o,t,n,a,i){return(0,r.wg)(),(0,r.iD)("section",I,[(0,r._)("div",{class:(0,d.C_)("all"===n.selectedFilter?n.classBorder:""),onClick:o[0]||(o[0]=e=>n.onFilter("all"))},[M,(0,r._)("span",P,(0,d.zw)(t.all),1)],2),(0,r._)("div",{class:(0,d.C_)("pendings"===n.selectedFilter?n.classBorder:""),onClick:o[1]||(o[1]=e=>n.onFilter("pendings"))},[N,(0,r._)("span",E,(0,d.zw)(t.pendings),1)],2),(0,r._)("div",{class:(0,d.C_)("reads"===n.selectedFilter?n.classBorder:""),onClick:o[2]||(o[2]=e=>n.onFilter("reads"))},[q,(0,r._)("span",W,(0,d.zw)(t.reads),1)],2)])}var K={name:"FilterBooks",props:["all","pendings","reads"],setup(e,o){const t=(0,_.iH)("all"),n=(0,_.iH)("border-info"),r=e=>{t.value=e,o.emit("onFilter",e)};return{selectedFilter:t,classBorder:n,onFilter:r}}};const Y=(0,m.Z)(K,[["render",V],["__scopeId","data-v-0923ccec"]]);var Q=Y,X=t(6780);t(4406);const $={apiKey:"AIzaSyBZFs3MHriMup6d5Rnt3o2OrHjUpH5RXOs",authDomain:"books-read-e9b9b.firebaseapp.com",databaseURL:"https://books-read-e9b9b-default-rtdb.firebaseio.com",projectId:"books-read-e9b9b",storageBucket:"books-read-e9b9b.appspot.com",messagingSenderId:"508357986549",appId:"1:508357986549:web:457e66cd12bda3e1b3ddbc"};X.Z.initializeApp($);const G=X.Z.firestore();X.Z;const J=async()=>{let e=[];return await G.collection("books").get().then((o=>{o.forEach((o=>{e.push({id:o.id,author:o.data().author,title:o.data().title,read:o.data().read})}))})),e},ee=async e=>{let o;return await G.collection("books").add({title:e.title,author:e.author,read:!1}).then((e=>{console.log("Document written with ID: ",e.id),o=!0})).catch((e=>{console.error("Error adding document: ",e),o=null})),o},oe=async(e,o)=>{let t;const n=G.collection("books").doc(e),r=await n.get();return r.exists?await n.set({author:r.data().author,title:r.data().title,read:o}).then((()=>t=!0)).catch((()=>t=!1)):t=!1,t},te=async e=>{let o;return await G.collection("books").doc(e).delete().then((e=>{console.log("eliminado",e),o=!0})).catch((e=>{console.log("error",e),o=!1})),o};var ne={name:"App",components:{Title:k,Formulary:C,BookList:H,FilterBooks:Q},data(){return{books:[],data:[],msgError:"No fue posible realizar la petición",openForm:!1}},mounted(){this.loadBooks()},computed:{countAll(){return this.data.length},countPendings(){return this.data.reduce(((e,o)=>!1===o.read?e+1:e),0)},countReads(){return this.data.reduce(((e,o)=>!0===o.read?e+1:e),0)}},methods:{handleFilter(e){switch(e){case"all":this.books=this.data;break;case"pendings":this.books=this.data.filter((e=>!1===e.read));break;case"reads":this.books=this.data.filter((e=>!0===e.read));break;default:this.books=this.data;break}},async handleAddBook(e){const o=await ee(e);if(o)return alert("Libro registrado correctamente!"),this.loadBooks(),void(this.openForm=!1);alert("NO fue posible la petición!")},async handleUpdateBook(e,o){const t=o?"terminado":"reiniciado",n=`Libro ${t} correctamente`,r=await oe(e,o);if(r)return alert(n),void this.loadBooks();alert(this.msgError)},async handleRemoveBook(e){console.log("id desde app",e);const o=await te(e);if(o)return alert("libro eliminado"),void this.loadBooks();alert("NO fue posible la petición!")},async loadBooks(){this.data=await J(),this.books=await J()},handleSetOpenForm(e){this.openForm=e}}};const re=(0,m.Z)(ne,[["render",l]]);var ae=re;(0,n.ri)(ae).mount("#app")}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var a=o[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(o,n,r,a){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],a=e[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var d=r();void 0!==d&&(o=d)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(o){return 0===e[o]};var o=function(o,n){var r,a,i=n[0],s=n[1],l=n[2],d=0;if(i.some((function(o){return 0!==e[o]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(l)var c=l(t)}for(o&&o(n);d<i.length;d++)a=i[d],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},n=self["webpackChunkbooks_read"]=self["webpackChunkbooks_read"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(1823)}));n=t.O(n)})();
//# sourceMappingURL=app.9679976d.js.map